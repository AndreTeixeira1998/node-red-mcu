<script type="text/javascript">
	RED.nodes.registerType('digital_in',{
		category: mcuHelper.category,
		color: mcuHelper.color,
		defaults: {
			name: { value:"" },
			pin: { value:"?" },
			mode: { value:"Input" },
			debounce: { value:0 },
			initial: { value:false },
		},
		inputs:0,
		outputs:1,
		icon: "mcu.png",
		paletteLabel: 'digital in',
		label: function() {
			return this.name || "digital in " + this.pin;
		},
		oneditprepare: function() {
			const div = $("#node-mcu-rows");
			mcuHelper.appendProperties.Digital(div, "io", { mode:"Input" });
			mcuHelper.restoreProperties.Digital(this, "io");
		},
		oneditsave: function() {
			mcuHelper.saveProperties.Digital(this, "io");
		},
	});
	RED.nodes.registerType('digital_out',{
		category: mcuHelper.category,
		color: mcuHelper.color,
		defaults: {
			name: { value:"" },
			pin: { value:"?" },
			mode: { value:"Output" },
			initial: { value:false },
		},
		inputs:1,
		outputs:0,
		icon: "mcu.png",
		paletteLabel: 'digital out',
		label: function() {
			return this.name || "digital out " + this.pin;
		},
		oneditprepare: function() {
			const div = $("#node-mcu-rows");
			mcuHelper.appendProperties.Digital(div, "io", { mode:"Output" });
			mcuHelper.restoreProperties.Digital(this, "io");
		},
		oneditsave: function() {
			mcuHelper.saveProperties.Digital(this, "io");
		},
	});
</script>

<script type="text/html" data-template-name="digital_in">
	<div class="form-row">
		<label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
		<input type="text" id="node-input-name" placeholder="digital in">
	</div>
	<div id="node-mcu-rows">
	</div>
	<div class="form-row"">
		<label for="node-input-debounce">Debounce</label>
		<input type="text" id="node-input-debounce" style="display:inline-block; width:70%; vertical-align:baseline;">
		<span>ms</span>
	</div>
	<div class="form-row">
		<label></label>
		<input type="checkbox" id="node-input-initial" style="display:inline-block; width:16px; margin-bottom:8px">
		<label for="node-input-initial" style="width:70%;">Read initial state of pin on restart?</label>
	</div>
	<div class="form-row">
		<div class="red-ui-help">
			See the <a class="" href="https://419.ecma-international.org/#-10-io-classes-digital" target="_blank">Ecma-419 specification</a>.
		</div>
   </div>
</script>
<script type="text/html" data-help-name="digital_in">
	<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce metus nisi, fermentum quis arcu eget, rutrum viverra metus. Sed rutrum ipsum et quam mollis, at tincidunt arcu facilisis. Vestibulum viverra velit sit amet velit ullamcorper aliquet. Sed vulputate fermentum orci, eu scelerisque nulla maximus non. Proin eleifend velit vitae sem tincidunt, non ultrices lectus lacinia. Cras vel ornare lacus. Praesent pharetra iaculis velit sed consequat. Morbi sed placerat orci, vestibulum luctus risus. In laoreet iaculis urna at auctor. Interdum et malesuada fames ac ante ipsum primis in faucibus. Cras eget viverra augue. Aliquam auctor tincidunt dapibus. Nunc a velit augue. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Morbi et orci pharetra, laoreet nisl sed, semper urna.</p>
</script>

<script type="text/html" data-template-name="digital_out">
	<div class="form-row">
		<label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
		<input type="text" id="node-input-name" placeholder="digital out">
	</div>
	<div id="node-mcu-rows">
	</div>
	<div class="form-row">
		<label></label>
		<input type="checkbox" id="node-input-initial" style="display:inline-block; width:16px; margin-bottom:8px">
		<label for="node-input-initial" style="width:70%;">Initialize pin state?</label>
	</div>
	<div class="form-row">
		<div class="red-ui-help">
			See the <a class="" href="https://419.ecma-international.org/#-10-io-classes-digital" target="_blank">Ecma-419 specification</a>.
		</div>
	</div>
</script>
<script type="text/html" data-help-name="digital_out">
	<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce metus nisi, fermentum quis arcu eget, rutrum viverra metus. Sed rutrum ipsum et quam mollis, at tincidunt arcu facilisis. Vestibulum viverra velit sit amet velit ullamcorper aliquet. Sed vulputate fermentum orci, eu scelerisque nulla maximus non. Proin eleifend velit vitae sem tincidunt, non ultrices lectus lacinia. Cras vel ornare lacus. Praesent pharetra iaculis velit sed consequat. Morbi sed placerat orci, vestibulum luctus risus. In laoreet iaculis urna at auctor. Interdum et malesuada fames ac ante ipsum primis in faucibus. Cras eget viverra augue. Aliquam auctor tincidunt dapibus. Nunc a velit augue. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Morbi et orci pharetra, laoreet nisl sed, semper urna.</p>
</script>
